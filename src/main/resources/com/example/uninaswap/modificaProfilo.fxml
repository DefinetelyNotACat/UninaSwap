<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>
<?import javafx.scene.text.Text?>
<?import javafx.geometry.Insets?>
<ScrollPane fitToWidth="true" vbarPolicy="AS_NEEDED"
            xmlns="http://javafx.com/javafx/17.0.2-ea"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.example.uninaswap.boundary.ModificaProfilo"
            stylesheets="@sign.css, @banners.css">
    <content>
        <VBox alignment="TOP_CENTER" spacing="30.0" styleClass="myPadding" fillWidth="false">
            <padding>
                <Insets top="20.0" bottom="20.0"/>
            </padding>
            <fx:include source="banners.fxml" fx:id="notifica"/>
            <VBox alignment="CENTER" spacing="15.0">
                <children>
                    <ImageView fitHeight="100" fitWidth="100" pickOnBounds="true" preserveRatio="true">
                        <image>
                            <Image url="@images/uninaLogo.png"/>
                        </image>
                        <clip>
                            <Circle centerX="50.0" centerY="50.0" radius="50.0" />
                        </clip>
                    </ImageView>

                    <Text text="Modifica Profilo" textAlignment="CENTER" styleClass="bold,title"/>

                    <VBox alignment="CENTER" spacing="10">
                        <ImageView fx:id="profileImageView"
                                   fitHeight="150.0"
                                   fitWidth="150.0"
                                   pickOnBounds="true"
                                   preserveRatio="true">
                            <image>
                                <Image url="@images/immagineProfiloDefault.jpg"/>
                            </image>
                            <clip>
                                <Circle centerX="75.0" centerY="75.0" radius="75.0" />
                            </clip>
                        </ImageView>

                        <Button text="CAMBIA IMMAGINE" onAction="#cambiaImmagineProfilo" styleClass="button-cambia-immagine"/>
                    </VBox>
                </children>
            </VBox>

            <VBox alignment="CENTER" spacing="15.0" maxWidth="400">
                <children>

                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Text text="Matricola" styleClass="label"/>
                            <TextField fx:id="matricolaField" editable="false" styleClass="form-field"/>                        </children>
                    </VBox>

                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Text text="Username" styleClass="label"/>
                            <TextField fx:id="usernameField" styleClass="form-field"/>
                            <Text text="Username non valido" fx:id="erroreUsername" styleClass="error-text" visible="false" managed="false"/>
                        </children>
                    </VBox>

                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Text text="Email" styleClass="label"/>
                            <TextField fx:id="emailField" styleClass="form-field" editable="false"/>
                            <Text text="Email non valida" fx:id="erroreEmail" styleClass="error-text" visible="false" managed="false"/>
                        </children>
                    </VBox>

                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Text text="Nuova Password (lascia vuoto per non cambiare)" styleClass="label"/>
                            <PasswordField fx:id="passwordField" promptText="Nuova Password" styleClass="form-field"/>
                            <Text text="Password non valida" fx:id="errorePassword" styleClass="error-text" visible="false" managed="false"/>
                        </children>
                    </VBox>

                    <VBox alignment="CENTER" spacing="5">
                        <children>
                            <Text text="Conferma Nuova Password" styleClass="label"/>
                            <PasswordField fx:id="confermaPasswordField" promptText="Ripeti Password" styleClass="form-field"/>
                            <Text text="Le password non coincidono" fx:id="erroreConfermaPassword" styleClass="error-text" visible="false" managed="false"/>
                        </children>
                    </VBox>

                    <HBox alignment="CENTER" spacing="25.0">
                        <padding>
                            <Insets top="20.0"/>
                        </padding>
                        <children>
                            <Button text="Annulla" onAction="#onAnnullaClick" styleClass="button, annulla"/>
                            <Button fx:id="salvaButton" text="Salva Modifiche" onAction="#onSalvaClick" styleClass="button"/>
                        </children>
                    </HBox>
                    <Text fx:id="erroreGenerico"  styleClass="error-text" visible="false" managed="false"/>
                </children>
            </VBox>
        </VBox>
    </content>
</ScrollPane>