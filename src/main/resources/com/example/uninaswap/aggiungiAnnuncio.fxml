<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Text?>

<ScrollPane fitToWidth="true" vbarPolicy="AS_NEEDED" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.uninaswap.boundary.AggiungiAnnuncio"
            stylesheets="@inventario.css, @sign.css">
    <content>
        <VBox alignment="TOP_CENTER" spacing="20.0" styleClass="myPadding">

            <VBox alignment="CENTER" fillWidth="false">
                <fx:include fx:id="notifica" source="banners.fxml"/>
                <padding>
                    <Insets bottom="10.0" />
                </padding>
            </VBox>

            <VBox alignment="CENTER" spacing="10">
                <children>
                    <ImageView fitHeight="100.0" fitWidth="100.0" pickOnBounds="true" preserveRatio="true">
                        <image>
                            <Image url="@images/uninaLogo.png" />
                        </image>
                        <clip>
                            <Circle centerX="50.0" centerY="50.0" radius="50.0" />
                        </clip>
                    </ImageView>
                    <Text styleClass="bold,title" text="Crea Annuncio" textAlignment="CENTER" />
                    <Text styleClass="description" text="Seleziona gli oggetti e definisci i dettagli" />
                </children>
                <padding>
                    <Insets bottom="20.0" top="10.0" />
                </padding>
            </VBox>

            <VBox alignment="CENTER" maxWidth="500.0" spacing="25.0">
                <children>

                    <VBox spacing="5" alignment="CENTER">
                        <children>
                            <Text styleClass="label" text="Testo dell'Annuncio"/>
                            <TextArea fx:id="descrizioneAnnuncioArea" promptText="Descrivi il tuo annuncio..." wrapText="true" prefRowCount="3" styleClass="form-field" />
                            <Text fx:id="erroreDescrizione" managed="false" styleClass="error-text" text="Inserire una descrizione valida" visible="false" />
                        </children>
                    </VBox>

                    <VBox spacing="5" alignment="CENTER">
                        <children>
                            <Text styleClass="label" text="Sede di Riferimento" />
                            <ComboBox fx:id="sedeBox" maxWidth="Infinity" promptText="Seleziona una sede (es. Monte Sant'Angelo)" styleClass="form-field" />
                            <Text fx:id="erroreSede" managed="false" styleClass="error-text" text="Selezionare una sede valida" visible="false" />
                        </children>
                    </VBox>

                    <VBox spacing="10" alignment="CENTER">
                        <children>
                            <Text styleClass="label" text="Seleziona Oggetti dal tuo Inventario" />
                            <ScrollPane fitToWidth="true" minHeight="100.0" maxHeight="150.0" styleClass="scroll-pane-transparent">
                                <content>
                                    <VBox fx:id="contenitoreOggetti" spacing="10" styleClass="image-container">
                                        <padding>
                                            <Insets top="10" right="10" bottom="10" left="10"/>
                                        </padding>
                                        <Text text="Nessun oggetto disponibile" styleClass="placeholder-text" />
                                    </VBox>
                                </content>
                            </ScrollPane>
                            <Text fx:id="erroreOggetti" managed="false" styleClass="error-text" text="Selezionare almeno un oggetto" visible="false" />
                        </children>
                    </VBox>

                    <VBox spacing="10" alignment="CENTER">
                        <children>
                            <Text styleClass="label" text="Tipologia Annuncio" />
                            <HBox alignment="CENTER" spacing="20.0">
                                <children>
                                    <RadioButton fx:id="radioVendita" text="Vendita" onAction="#onTipologiaChange">
                                        <toggleGroup>
                                            <ToggleGroup fx:id="tipoAnnuncioGroup"/>
                                        </toggleGroup>
                                    </RadioButton>
                                    <RadioButton fx:id="radioScambio" text="Scambio" toggleGroup="$tipoAnnuncioGroup" onAction="#onTipologiaChange"/>
                                    <RadioButton fx:id="radioRegalo" text="Regalo" toggleGroup="$tipoAnnuncioGroup" onAction="#onTipologiaChange"/>
                                </children>
                            </HBox>
                            <Text fx:id="erroreTipologia" managed="false" styleClass="error-text" text="Selezionare una tipologia" visible="false" />
                        </children>
                    </VBox>

                    <VBox fx:id="vboxVendita" spacing="15" alignment="CENTER" visible="false" managed="false">
                        <children>
                            <VBox spacing="5" alignment="CENTER">
                                <Text styleClass="label" text="Prezzo Richiesto (€)" />
                                <TextField fx:id="prezzoField" promptText="Es. 25.00" styleClass="form-field" />
                            </VBox>
                            <VBox spacing="5" alignment="CENTER">
                                <Text styleClass="label" text="Prezzo Minimo Accettato (Opzionale)" />
                                <TextField fx:id="prezzoMinField" promptText="Es. 20.00" styleClass="form-field" />
                            </VBox>
                            <Text fx:id="errorePrezzo" managed="false" styleClass="error-text" text="Inserire un prezzo valido" visible="false" />
                        </children>
                        <padding>
                            <Insets top="10" bottom="10" />
                        </padding>
                        <style>
                            -fx-background-color: rgba(0,0,0,0.03);
                            -fx-background-radius: 10;
                        </style>
                    </VBox>

                    <VBox fx:id="vboxScambio" spacing="5" alignment="CENTER" visible="false" managed="false">
                        <children>
                            <Text styleClass="label" text="Cosa cerchi in cambio?" />
                            <TextArea fx:id="desideriScambioArea" promptText="Es. Cerco libri di Fisica o calcolatrice grafica..." wrapText="true" prefRowCount="3" styleClass="form-field" />
                            <Text fx:id="erroreScambio" managed="false" styleClass="error-text" text="Specificare cosa si cerca" visible="false" />
                        </children>
                        <padding>
                            <Insets top="10" bottom="10" />
                        </padding>
                        <style>
                            -fx-background-color: rgba(0,0,0,0.03);
                            -fx-background-radius: 10;
                        </style>
                    </VBox>

                    <VBox fx:id="vboxRegalo" spacing="5" alignment="CENTER" visible="false" managed="false">
                        <children>
                            <Text styleClass="description" text="L'oggetto sarà pubblicato come GRATUITO." textAlignment="CENTER"/>
                            <Text styleClass="label" text="Informazioni Ritiro (Opzionale)" />
                            <TextField fx:id="infoRitiroField" promptText="Es. Ritiro solo a mano zona mensa..." styleClass="form-field" />
                        </children>
                        <padding>
                            <Insets top="10" bottom="10" />
                        </padding>
                        <style>
                            -fx-background-color: rgba(0,255,0,0.05);
                            -fx-background-radius: 10;
                        </style>
                    </VBox>

                </children>
            </VBox>

            <HBox alignment="CENTER" spacing="20.0">
                <children>
                    <Button fx:id="annullaButton" onAction="#onAnnullaClick" text="Annulla" styleClass="button, button-secondary" />
                    <Button fx:id="pubblicaButton" onAction="#onPubblicaClick" text="Pubblica Annuncio" styleClass="button" />
                </children>
                <padding>
                    <Insets top="20.0" bottom="30.0"/>
                </padding>
            </HBox>

        </VBox>
    </content>
</ScrollPane>